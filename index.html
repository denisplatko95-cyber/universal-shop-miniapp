<script>
    // ==================== –ò–ù–ò–¶–ò–ê–õ–ò–ó–ê–¶–ò–Ø ====================
    const tg = window.Telegram.WebApp;
    
    // –†–∞—Å—à–∏—Ä—è–µ–º –Ω–∞ –≤–µ—Å—å —ç–∫—Ä–∞–Ω
    tg.expand();
    tg.enableClosingConfirmation();
    
    // –î–∞–Ω–Ω—ã–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –∏–∑ Telegram
    const user = tg.initDataUnsafe.user;
    const userId = user?.id || '–Ω–µ–∏–∑–≤–µ—Å—Ç–Ω–æ';
    const userName = user?.first_name || '–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å';
    
    console.log('–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å Telegram:', user);
    
    // –ü—Ä–æ–≤–µ—Ä–∫–∞ –Ω–∞ –∞–¥–º–∏–Ω–∞ (–∑–∞–º–µ–Ω–∏—Ç–µ 123456789 –Ω–∞ –≤–∞—à —Ä–µ–∞–ª—å–Ω—ã–π Telegram ID)
    const ADMIN_IDS = [8381902355]; // –í–∞—à ID –∑–¥–µ—Å—å
    const isAdmin = ADMIN_IDS.includes(Number(userId));
    
    // ==================== –¢–ï–ú–ê ====================
    let isDarkTheme = tg.colorScheme === 'dark';
    
    // –£—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ–º —Ç–µ–º—É –∏–∑ Telegram
    if (isDarkTheme) {
        document.body.classList.add('dark-theme');
        document.getElementById('themeToggle').innerHTML = '<i class="fas fa-sun"></i>';
    }
    
    // –ü–µ—Ä–µ–∫–ª—é—á–µ–Ω–∏–µ —Ç–µ–º—ã
    document.getElementById('themeToggle').addEventListener('click', function() {
        if (isDarkTheme) {
            document.body.classList.remove('dark-theme');
            this.innerHTML = '<i class="fas fa-moon"></i>';
            tg.setHeaderColor('#ffffff');
            isDarkTheme = false;
        } else {
            document.body.classList.add('dark-theme');
            this.innerHTML = '<i class="fas fa-sun"></i>';
            tg.setHeaderColor('#0f172a');
            isDarkTheme = true;
        }
    });
    
    // ==================== –î–ê–ù–ù–´–ï ====================
    // –ò–≥—Ä—ã (–≤ —Ä–µ–∞–ª—å–Ω–æ—Å—Ç–∏ –±—É–¥—É—Ç —Å —Å–µ—Ä–≤–µ—Ä–∞)
    const games = [
        { id: 1, icon: 'üéÆ', name: 'Fortnite', type: 'game' },
        { id: 2, icon: '‚öîÔ∏è', name: 'Minecraft', type: 'game' },
        { id: 3, icon: 'üöó', name: 'GTA V', type: 'game' },
        { id: 4, icon: 'üî´', name: 'CS:GO', type: 'game' }
    ];
    
    const apps = [
        { id: 5, icon: 'üìà', name: '–ü—Ä–æ–¥–≤–∏–∂–µ–Ω–∏–µ', type: 'app' },
        { id: 6, icon: 'üé®', name: '–î–∏–∑–∞–π–Ω', type: 'app' },
        { id: 7, icon: 'üéÅ', name: 'NFT-–ø–æ–¥–∞—Ä–∫–∏', type: 'app' }
    ];
    
    const products = [
        { 
            id: 101, 
            name: '–ê–∫–∫–∞—É–Ω—Ç Fortnite Pro', 
            desc: '–†–µ–¥–∫–∏–µ —Å–∫–∏–Ω—ã + 5000 V-bucks', 
            price: '$24.99', 
            icon: 'üë§',
            gameId: 1,
            data: '–õ–æ–≥–∏–Ω: fortnite_pro_123\n–ü–∞—Ä–æ–ª—å: QwErTy2024' // –î–∞–Ω–Ω—ã–µ –¥–ª—è –≤—ã–¥–∞—á–∏
        },
        { 
            id: 102, 
            name: '1000 –í-–±–∞–∫—Å–æ–≤', 
            desc: '–ò–≥—Ä–æ–≤–∞—è –≤–∞–ª—é—Ç–∞ Fortnite', 
            price: '$9.99', 
            icon: 'üí∞',
            gameId: 1,
            data: '–ö–æ–¥: FN-7X9P-2K4L-8M3Q'
        }
    ];
    
    // –ò—Å—Ç–æ—Ä–∏—è –ø—Ä–æ—Å–º–æ—Ç—Ä–æ–≤ (–∏–∑ localStorage)
    let viewHistory = JSON.parse(localStorage.getItem('viewHistory') || '[]');
    
    // ==================== –ó–ê–ì–†–£–ó–ö–ê –ò–ù–¢–ï–†–§–ï–ô–°–ê ====================
    document.addEventListener('DOMContentLoaded', function() {
        // –ü–æ–∫–∞–∑—ã–≤–∞–µ–º –∞–¥–º–∏–Ω-–ø–∞–Ω–µ–ª—å –µ—Å–ª–∏ –∞–¥–º–∏–Ω
        if (isAdmin) {
            document.getElementById('adminButtons').style.display = 'block';
            tg.showAlert(`üëë –î–æ–±—Ä–æ –ø–æ–∂–∞–ª–æ–≤–∞—Ç—å, –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä ${userName}!`);
        }
        
        // –ü—Ä–∏–≤–µ—Ç—Å—Ç–≤–∏–µ
        tg.showPopup({
            title: `üëã –ü—Ä–∏–≤–µ—Ç, ${userName}!`,
            message: '–î–æ–±—Ä–æ –ø–æ–∂–∞–ª–æ–≤–∞—Ç—å –≤ UNIVERSAL SHOP',
            buttons: [{ type: 'default', text: '–ù–∞—á–∞—Ç—å –ø–æ–∫—É–ø–∫–∏', id: 'start' }]
        });
        
        // –ó–∞–≥—Ä—É–∂–∞–µ–º –¥–∞–Ω–Ω—ã–µ
        loadGames();
        loadApps();
        loadProducts();
        updateHistory();
        
        // –ù–∞—Å—Ç—Ä–∞–∏–≤–∞–µ–º –∫–Ω–æ–ø–∫—É –ø–æ–∫—É–ø–∫–∏
        tg.MainButton.setText("üõí –ü–µ—Ä–µ–π—Ç–∏ –∫ –æ–ø–ª–∞—Ç–µ");
        tg.MainButton.onClick(buyProduct);
        tg.MainButton.hide();
    });
    
    // ==================== –§–£–ù–ö–¶–ò–ò –ó–ê–ì–†–£–ó–ö–ò ====================
    function loadGames() {
        const shelf = document.getElementById('gamesShelf');
        shelf.innerHTML = '';
        
        games.forEach(game => {
            const card = document.createElement('div');
            card.className = 'game-card fade-in';
            card.innerHTML = `
                <div class="game-icon">${game.icon}</div>
                <div class="game-name">${game.name}</div>
            `;
            card.onclick = () => openCategory(game);
            shelf.appendChild(card);
        });
    }
    
    function loadApps() {
        const shelf = document.getElementById('appsShelf');
        shelf.innerHTML = '';
        
        apps.forEach(app => {
            const card = document.createElement('div');
            card.className = 'game-card fade-in';
            card.innerHTML = `
                <div class="game-icon">${app.icon}</div>
                <div class="game-name">${app.name}</div>
            `;
            card.onclick = () => openCategory(app);
            shelf.appendChild(card);
        });
    }
    
    function loadProducts() {
        const grid = document.getElementById('productsGrid');
        grid.innerHTML = '';
        
        products.forEach(product => {
            const card = document.createElement('div');
            card.className = 'product-card fade-in';
            card.innerHTML = `
                <div class="product-image" style="background: linear-gradient(45deg, #6366f1, #8b5cf6);">
                    ${product.icon}
                </div>
                <div class="product-info">
                    <div class="product-name">${product.name}</div>
                    <div class="product-description">${product.desc}</div>
                    <div class="product-price">${product.price}</div>
                    <button class="buy-btn" style="margin-top: 8px; width: 100%; padding: 8px; background: #10b981; color: white; border: none; border-radius: 8px; cursor: pointer;" 
                            onclick="selectProduct(${product.id})">
                        –ö—É–ø–∏—Ç—å
                    </button>
                </div>
            `;
            grid.appendChild(card);
        });
    }
    
    function updateHistory() {
        const historyCard = document.getElementById('historyCard');
        if (viewHistory.length > 0) {
            const lastProduct = viewHistory[viewHistory.length - 1];
            historyCard.innerHTML = `
                <div class="history-header">
                    <span>${lastProduct.name}</span>
                    <button class="delete-history" onclick="deleteHistory()">–£–¥–∞–ª–∏—Ç—å</button>
                </div>
                <div>–¶–µ–Ω–∞: <strong>${lastProduct.price}</strong> ‚Ä¢ –ü—Ä–æ—Å–º–æ—Ç—Ä–µ–Ω: ${lastProduct.time}</div>
            `;
        } else {
            historyCard.innerHTML = `
                <div class="history-header">
                    <span>–ò—Å—Ç–æ—Ä–∏—è –ø—Ä–æ—Å–º–æ—Ç—Ä–æ–≤ –ø—É—Å—Ç–∞</span>
                </div>
                <div>–ó–¥–µ—Å—å –±—É–¥–µ—Ç –ø–æ—Å–ª–µ–¥–Ω–∏–π –ø—Ä–æ—Å–º–æ—Ç—Ä–µ–Ω–Ω—ã–π —Ç–æ–≤–∞—Ä</div>
            `;
        }
    }
    
    // ==================== –û–°–ù–û–í–ù–´–ï –§–£–ù–ö–¶–ò–ò ====================
    let selectedProduct = null;
    
    function selectProduct(productId) {
        selectedProduct = products.find(p => p.id === productId);
        
        // –î–æ–±–∞–≤–ª—è–µ–º –≤ –∏—Å—Ç–æ—Ä–∏—é
        viewHistory.push({
            id: selectedProduct.id,
            name: selectedProduct.name,
            price: selectedProduct.price,
            time: new Date().toLocaleTimeString()
        });
        localStorage.setItem('viewHistory', JSON.stringify(viewHistory));
        updateHistory();
        
        // –ü–æ–∫–∞–∑—ã–≤–∞–µ–º –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é –æ —Ç–æ–≤–∞—Ä–µ
        tg.showPopup({
            title: `üéØ ${selectedProduct.name}`,
            message: `${selectedProduct.desc}\n\n–¶–µ–Ω–∞: ${selectedProduct.price}\n\n–í—ã–±–µ—Ä–∏—Ç–µ —Å–ø–æ—Å–æ–± –æ–ø–ª–∞—Ç—ã:`,
            buttons: [
                { id: 'crypto', type: 'default', text: 'üíé –ö—Ä–∏–ø—Ç–æ (USDT/TON)' },
                { id: 'rub', type: 'default', text: '‚ÇΩ –†—É–±–ª–∏ –ø–æ —Ä–µ–∫–≤–∏–∑–∏—Ç–∞–º' },
                { id: 'cancel', type: 'cancel', text: '–û—Ç–º–µ–Ω–∞' }
            ]
        }).then(result => {
            if (result === 'crypto') {
                startCryptoPayment();
            } else if (result === 'rub') {
                startRubPayment();
            }
        });
        
        // –ê–∫—Ç–∏–≤–∏—Ä—É–µ–º –∫–Ω–æ–ø–∫—É –ø–æ–∫—É–ø–∫–∏
        tg.MainButton.setText(`–ö—É–ø–∏—Ç—å –∑–∞ ${selectedProduct.price}`);
        tg.MainButton.show();
    }
    
    function openCategory(category) {
        tg.showPopup({
            title: `${category.icon} ${category.name}`,
            message: `–¢–æ–≤–∞—Ä—ã –≤ –∫–∞—Ç–µ–≥–æ—Ä–∏–∏ "${category.name}"`,
            buttons: [
                { id: 'view', type: 'default', text: 'üëÅÔ∏è –ü—Ä–æ—Å–º–æ—Ç—Ä–µ—Ç—å —Ç–æ–≤–∞—Ä—ã' },
                isAdmin ? { id: 'add', type: 'default', text: '‚ûï –î–æ–±–∞–≤–∏—Ç—å —Ç–æ–≤–∞—Ä' } : null,
                { id: 'close', type: 'cancel', text: '–ó–∞–∫—Ä—ã—Ç—å' }
            ].filter(Boolean)
        }).then(result => {
            if (result === 'add' && isAdmin) {
                addNewProductToCategory(category.id);
            }
        });
    }
    
    // ==================== –û–ü–õ–ê–¢–ê ====================
    function startCryptoPayment() {
        tg.showAlert(`üíé –ö—Ä–∏–ø—Ç–æ-–æ–ø–ª–∞—Ç–∞\n\n–¢–æ–≤–∞—Ä: ${selectedProduct.name}\n–°—É–º–º–∞: ${selectedProduct.price}\n\n–ü–æ—Å–ª–µ –æ–ø–ª–∞—Ç—ã —Ç–æ–≤–∞—Ä –±—É–¥–µ—Ç –≤—ã–¥–∞–Ω –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏.`);
        
        // –ò–º–∏—Ç–∞—Ü–∏—è —É—Å–ø–µ—à–Ω–æ–π –æ–ø–ª–∞—Ç—ã (–≤ —Ä–µ–∞–ª—å–Ω–æ—Å—Ç–∏ –∑–¥–µ—Å—å API –∫—Ä–∏–ø—Ç–æ–±–æ—Ç–∞)
        setTimeout(() => {
            deliverProduct('crypto');
        }, 2000);
    }
    
    function startRubPayment() {
        tg.showPopup({
            title: '‚ÇΩ –û–ø–ª–∞—Ç–∞ –ø–æ —Ä–µ–∫–≤–∏–∑–∏—Ç–∞–º',
            message: `–¢–æ–≤–∞—Ä: ${selectedProduct.name}\n–°—É–º–º–∞: ${selectedProduct.price}\n\n–†–µ–∫–≤–∏–∑–∏—Ç—ã –¥–ª—è –ø–µ—Ä–µ–≤–æ–¥–∞:\n\nüí≥ –°–ë–ï–†–ë–ê–ù–ö: 2202 2001 2345 6789\nüë§ –ò–í–ê–ù –ò.–ò.\n\n–ü–æ—Å–ª–µ –ø–µ—Ä–µ–≤–æ–¥–∞ –æ—Ç–ø—Ä–∞–≤—å—Ç–µ —Å–∫—Ä–∏–Ω—à–æ—Ç —á–µ–∫–∞ –≤ –ø–æ–¥–¥–µ—Ä–∂–∫—É.`,
            buttons: [
                { id: 'support', type: 'default', text: 'üìû –û—Ç–∫—Ä—ã—Ç—å –ø–æ–¥–¥–µ—Ä–∂–∫—É' },
                { id: 'cancel', type: 'cancel', text: '–ü–æ–Ω—è—Ç–Ω–æ' }
            ]
        }).then(result => {
            if (result === 'support') {
                openSupport();
            }
        });
        
        // –°–∏–º—É–ª—è—Ü–∏—è –æ—Ç–ø—Ä–∞–≤–∫–∏ –∑–∞–∫–∞–∑–∞ –≤ –≥—Ä—É–ø–ø—É –∞–¥–º–∏–Ω–æ–≤
        sendOrderToAdminGroup('rub');
    }
    
    function buyProduct() {
        if (!selectedProduct) {
            tg.showAlert('–°–Ω–∞—á–∞–ª–∞ –≤—ã–±–µ—Ä–∏—Ç–µ —Ç–æ–≤–∞—Ä!');
            return;
        }
        
        tg.showPopup({
            title: '–ü–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏–µ –ø–æ–∫—É–ø–∫–∏',
            message: `–í—ã —É–≤–µ—Ä–µ–Ω—ã, —á—Ç–æ —Ö–æ—Ç–∏—Ç–µ –∫—É–ø–∏—Ç—å "${selectedProduct.name}" –∑–∞ ${selectedProduct.price}?`,
            buttons: [
                { id: 'confirm', type: 'destructive', text: '‚úÖ –î–∞, –∫—É–ø–∏—Ç—å' },
                { id: 'cancel', type: 'cancel', text: '–û—Ç–º–µ–Ω–∞' }
            ]
        }).then(result => {
            if (result === 'confirm') {
                startCryptoPayment(); // –ü–æ —É–º–æ–ª—á–∞–Ω–∏—é –∫—Ä–∏–ø—Ç–æ
            }
        });
    }
    
    // ==================== –í–´–î–ê–ß–ê –¢–û–í–ê–†–ê ====================
    function deliverProduct(paymentMethod) {
        tg.showAlert(`‚úÖ –û–ø–ª–∞—Ç–∞ –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∞!\n\n–¢–æ–≤–∞—Ä: ${selectedProduct.name}\n\n–î–∞–Ω–Ω—ã–µ –¥–ª—è –ø–æ–ª—É—á–µ–Ω–∏—è:\n${selectedProduct.data}\n\n–°–∫–æ–ø–∏—Ä—É–π—Ç–µ —ç—Ç–∏ –¥–∞–Ω–Ω—ã–µ!`);
        
        // –û—Ç–ø—Ä–∞–≤–ª—è–µ–º –¥–∞–Ω–Ω—ã–µ –≤ –±–æ—Ç–∞ (—Ä–µ–∞–ª—å–Ω–∞—è –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è)
        tg.sendData(JSON.stringify({
            action: 'product_delivered',
            productId: selectedProduct.id,
            userId: userId,
            paymentMethod: paymentMethod,
            productData: selectedProduct.data
        }));
        
        // –°–∫—Ä—ã–≤–∞–µ–º –∫–Ω–æ–ø–∫—É –ø–æ–∫—É–ø–∫–∏
        tg.MainButton.hide();
        selectedProduct = null;
    }
    
    function sendOrderToAdminGroup(paymentMethod) {
        // –í —Ä–µ–∞–ª—å–Ω–æ—Å—Ç–∏ –∑–¥–µ—Å—å –∑–∞–ø—Ä–æ—Å –∫ –≤–∞—à–µ–º—É –±—ç–∫–µ–Ω–¥—É
        console.log('–ó–∞–∫–∞–∑ –æ—Ç–ø—Ä–∞–≤–ª–µ–Ω –∞–¥–º–∏–Ω–∞–º:', {
            product: selectedProduct,
            user: user,
            paymentMethod: paymentMethod
        });
        
        tg.showAlert('üìã –ó–∞–∫–∞–∑ —Å–æ–∑–¥–∞–Ω! –û–∂–∏–¥–∞–π—Ç–µ –ø—Ä–æ–≤–µ—Ä–∫–∏ –æ–ø–ª–∞—Ç—ã –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–æ–º.');
    }
    
    // ==================== –ê–î–ú–ò–ù-–§–£–ù–ö–¶–ò–ò ====================
    function addNewGame() {
        tg.showPopup({
            title: '‚ûï –î–æ–±–∞–≤–∏—Ç—å –∏–≥—Ä—É',
            message: '–í–≤–µ–¥–∏—Ç–µ –Ω–∞–∑–≤–∞–Ω–∏–µ –Ω–æ–≤–æ–π –∏–≥—Ä—ã:',
            buttons: [
                { id: 'confirm', type: 'default', text: '–î–æ–±–∞–≤–∏—Ç—å' },
                { id: 'cancel', type: 'cancel', text: '–û—Ç–º–µ–Ω–∞' }
            ]
        }).then(result => {
            if (result === 'confirm') {
                tg.showAlert('–ò–≥—Ä–∞ –¥–æ–±–∞–≤–ª–µ–Ω–∞! (–≤ —Ä–µ–∞–ª—å–Ω–æ–º –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–∏ –∑–¥–µ—Å—å –±—É–¥–µ—Ç —Ñ–æ—Ä–º–∞)');
            }
        });
    }
    
    function addNewProduct() {
        tg.showAlert('üì¶ –§–æ—Ä–º–∞ –¥–æ–±–∞–≤–ª–µ–Ω–∏—è —Ç–æ–≤–∞—Ä–∞\n\n–í —Ä–µ–∞–ª—å–Ω–æ–º –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–∏ –∑–¥–µ—Å—å –±—É–¥–µ—Ç —Ñ–æ—Ä–º–∞ —Å:\n- –ù–∞–∑–≤–∞–Ω–∏–µ–º\n- –û–ø–∏—Å–∞–Ω–∏–µ–º\n- –¶–µ–Ω–æ–π\n- –§–æ—Ç–æ\n- –î–∞–Ω–Ω—ã–º–∏ –¥–ª—è –≤—ã–¥–∞—á–∏');
    }
    
    function addNewProductToCategory(categoryId) {
        tg.showAlert(`–î–æ–±–∞–≤–ª–µ–Ω–∏–µ —Ç–æ–≤–∞—Ä–∞ –≤ –∫–∞—Ç–µ–≥–æ—Ä–∏—é ID: ${categoryId}`);
    }
    
    // ==================== –î–û–ü–û–õ–ù–ò–¢–ï–õ–¨–ù–´–ï –§–£–ù–ö–¶–ò–ò ====================
    function deleteHistory() {
        viewHistory = [];
        localStorage.removeItem('viewHistory');
        updateHistory();
        tg.showAlert('–ò—Å—Ç–æ—Ä–∏—è –ø—Ä–æ—Å–º–æ—Ç—Ä–æ–≤ –æ—á–∏—â–µ–Ω–∞');
    }
    
    function showAllGames() {
        tg.showAlert('üìã –í—Å–µ –∏–≥—Ä—ã –º–∞–≥–∞–∑–∏–Ω–∞\n\n–í —Ä–µ–∞–ª—å–Ω–æ–º –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–∏ –∑–¥–µ—Å—å –±—É–¥–µ—Ç –ø–æ–ª–Ω—ã–π —Å–ø–∏—Å–æ–∫');
    }
    
    function showAllApps() {
        tg.showAlert('üì± –í—Å–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è\n\n–í —Ä–µ–∞–ª—å–Ω–æ–º –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–∏ –∑–¥–µ—Å—å –±—É–¥–µ—Ç –ø–æ–ª–Ω—ã–π —Å–ø–∏—Å–æ–∫ —É—Å–ª—É–≥');
    }
    
    function openSupport() {
        tg.showPopup({
            title: 'üí¨ –ü–æ–¥–¥–µ—Ä–∂–∫–∞',
            message: '–°–≤—è–∂–∏—Ç–µ—Å—å —Å –Ω–∞–º–∏ –¥–ª—è –ø–æ–º–æ—â–∏:',
            buttons: [
                { id: 'chat', type: 'default', text: 'üí¨ –ù–∞–ø–∏—Å–∞—Ç—å –≤ —á–∞—Ç' },
                { id: 'faq', type: 'default', text: '‚ùì –ß–∞—Å—Ç—ã–µ –≤–æ–ø—Ä–æ—Å—ã' },
                { id: 'close', type: 'cancel', text: '–ó–∞–∫—Ä—ã—Ç—å' }
            ]
        }).then(result => {
            if (result === 'chat') {
                // –û—Ç–∫—Ä—ã–≤–∞–µ–º —á–∞—Ç —Å –ø–æ–¥–¥–µ—Ä–∂–∫–æ–π
                tg.openTelegramLink('https://t.me/–≤–∞—à–∞_–ø–æ–¥–¥–µ—Ä–∂–∫–∞');
            }
        });
    }
    
    function openBonuses() {
        tg.showAlert('üéÅ –†–∞–∑–¥–µ–ª –±–æ–Ω—É—Å–æ–≤\n\n–ó–¥–µ—Å—å –±—É–¥—É—Ç –ø—Ä–æ–º–æ–∫–æ–¥—ã –∏ –∞–∫—Ü–∏–∏');
    }
    
    function openProfile() {
        tg.showPopup({
            title: `üë§ –ü—Ä–æ—Ñ–∏–ª—å ${userName}`,
            message: `ID: ${userId}\n\n–ë–∞–ª–∞–Ω—Å: 0 —Ä—É–±\n–ó–∞–∫–∞–∑–æ–≤: 0\n\n–î–æ—Å—Ç—É–ø–Ω–æ —Ç–æ–ª—å–∫–æ –¥–ª—è –∞–≤—Ç–æ—Ä–∏–∑–æ–≤–∞–Ω–Ω—ã—Ö –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π`,
            buttons: [
                { id: 'orders', type: 'default', text: 'üì¶ –ú–æ–∏ –∑–∞–∫–∞–∑—ã' },
                { id: 'close', type: 'cancel', text: '–ó–∞–∫—Ä—ã—Ç—å' }
            ]
        });
    }
    
    // ==================== –ü–û–ò–°–ö ====================
    const searchInput = document.querySelector('.search-input');
    searchInput.addEventListener('input', function(e) {
        const query = e.target.value.toLowerCase();
        if (query.length > 1) {
            // –í —Ä–µ–∞–ª—å–Ω–æ–º –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–∏ –∑–¥–µ—Å—å —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏—è —Ç–æ–≤–∞—Ä–æ–≤
            console.log('–ü–æ–∏—Å–∫ —Ç–æ–≤–∞—Ä–æ–≤:', query);
        }
    });
</script>

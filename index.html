<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>UNIVERSAL SHOP üõçÔ∏è</title>
    <script src="https://telegram.org/js/telegram-web-app.js"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: 'Segoe UI', system-ui, sans-serif;
        }
        
        :root {
            --bg-color: #ffffff;
            --text-color: #1a1a1a;
            --card-bg: #f8f9fa;
            --accent: #6366f1;
            --border: #e5e7eb;
            --shadow: 0 4px 12px rgba(0,0,0,0.05);
        }
        
        .dark-theme {
            --bg-color: #0f172a;
            --text-color: #f1f5f9;
            --card-bg: #1e293b;
            --accent: #818cf8;
            --border: #334155;
            --shadow: 0 4px 12px rgba(0,0,0,0.2);
        }
        
        body {
            background: var(--bg-color);
            color: var(--text-color);
            transition: all 0.3s ease;
            padding-bottom: 70px;
        }
        
        /* –®–∞–ø–∫–∞ */
        .header {
            padding: 16px;
            display: flex;
            align-items: center;
            justify-content: space-between;
            border-bottom: 1px solid var(--border);
            position: sticky;
            top: 0;
            background: var(--bg-color);
            z-index: 100;
        }
        
        .logo {
            display: flex;
            align-items: center;
            gap: 10px;
            font-weight: 700;
            font-size: 20px;
        }
        
        .logo-icon {
            color: var(--accent);
            font-size: 24px;
        }
        
        .header-controls {
            display: flex;
            align-items: center;
            gap: 15px;
        }
        
        .search-box {
            background: var(--card-bg);
            padding: 8px 15px;
            border-radius: 20px;
            display: flex;
            align-items: center;
            gap: 8px;
            width: 180px;
        }
        
        .search-input {
            background: transparent;
            border: none;
            color: var(--text-color);
            width: 100%;
            outline: none;
        }
        
        .theme-toggle {
            background: var(--card-bg);
            border: none;
            width: 40px;
            height: 40px;
            border-radius: 50%;
            cursor: pointer;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 18px;
            color: var(--text-color);
        }
        
        /* –ë–ª–æ–∫–∏ */
        .container {
            padding: 16px;
        }
        
        .section-title {
            display: flex;
            align-items: center;
            gap: 10px;
            margin: 24px 0 16px 0;
            font-size: 18px;
            font-weight: 600;
        }
        
        .section-icon {
            font-size: 22px;
        }
        
        /* –ì–æ—Ä–∏–∑–æ–Ω—Ç–∞–ª—å–Ω—ã–µ –ø–æ–ª–∫–∏ —Å –∏–≥—Ä–∞–º–∏ */
        .shelf {
            display: flex;
            gap: 16px;
            overflow-x: auto;
            padding: 8px 0 20px 0;
            scrollbar-width: thin;
        }
        
        .shelf::-webkit-scrollbar {
            height: 4px;
        }
        
        .game-card {
            min-width: 100px;
            text-align: center;
            background: var(--card-bg);
            border-radius: 16px;
            padding: 16px 12px;
            cursor: pointer;
            transition: transform 0.2s;
            border: 1px solid var(--border);
        }
        
        .game-card:hover {
            transform: translateY(-4px);
        }
        
        .game-icon {
            font-size: 32px;
            margin-bottom: 10px;
        }
        
        .game-name {
            font-size: 14px;
            font-weight: 500;
        }
        
        /* –ö–Ω–æ–ø–∫–∞ "–°–º–æ—Ç—Ä–µ—Ç—å –≤—Å–µ" */
        .view-all {
            background: var(--accent);
            color: white;
            border: none;
            padding: 10px 20px;
            border-radius: 12px;
            cursor: pointer;
            font-weight: 500;
            margin-top: 10px;
            display: flex;
            align-items: center;
            gap: 8px;
            justify-content: center;
        }
        
        /* –ò—Å—Ç–æ—Ä–∏—è –ø—Ä–æ—Å–º–æ—Ç—Ä–æ–≤ */
        .history-card {
            background: var(--card-bg);
            border-radius: 16px;
            padding: 16px;
            margin: 16px 0;
            border: 1px solid var(--border);
        }
        
        .history-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 12px;
        }
        
        .delete-history {
            background: #ef4444;
            color: white;
            border: none;
            padding: 6px 12px;
            border-radius: 8px;
            font-size: 12px;
            cursor: pointer;
        }
        
        /* –¢–æ–≤–∞—Ä—ã –≤ –ª–µ–Ω—Ç–µ */
        .products-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(160px, 1fr));
            gap: 16px;
            margin-top: 20px;
        }
        
        .product-card {
            background: var(--card-bg);
            border-radius: 16px;
            overflow: hidden;
            border: 1px solid var(--border);
            cursor: pointer;
        }
        
        .product-image {
            width: 100%;
            height: 120px;
            object-fit: cover;
            background: linear-gradient(45deg, #6366f1, #8b5cf6);
            display: flex;
            align-items: center;
            justify-content: center;
            color: white;
            font-size: 32px;
        }
        
        .product-info {
            padding: 12px;
        }
        
        .product-name {
            font-weight: 600;
            margin-bottom: 6px;
            font-size: 14px;
        }
        
        .product-description {
            font-size: 12px;
            color: #6b7280;
            margin-bottom: 10px;
            line-height: 1.3;
        }
        
        .product-price {
            color: var(--accent);
            font-weight: 700;
            font-size: 16px;
        }
        
        /* –ö–Ω–æ–ø–∫–∏ –¥–µ–π—Å—Ç–≤–∏–π */
        .action-buttons {
            position: fixed;
            bottom: 0;
            left: 0;
            right: 0;
            background: var(--bg-color);
            padding: 12px 16px;
            border-top: 1px solid var(--border);
            display: flex;
            gap: 12px;
            z-index: 100;
        }
        
        .action-btn {
            flex: 1;
            padding: 12px;
            border-radius: 12px;
            border: none;
            font-weight: 500;
            cursor: pointer;
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 8px;
            transition: opacity 0.2s;
        }
        
        .primary-btn {
            background: var(--accent);
            color: white;
        }
        
        .secondary-btn {
            background: var(--card-bg);
            color: var(--text-color);
            border: 1px solid var(--border);
        }
        
        /* –ê–¥–º–∏–Ω –∫–Ω–æ–ø–∫–∏ (—Å–∫—Ä—ã—Ç—ã –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é) */
        .admin-buttons {
            display: none;
            margin: 16px 0;
        }
        
        .add-btn {
            background: #10b981;
            color: white;
            border: none;
            padding: 12px 20px;
            border-radius: 12px;
            cursor: pointer;
            font-weight: 500;
            display: flex;
            align-items: center;
            gap: 8px;
        }
        
        /* –ê–¥–∞–ø—Ç–∏–≤–Ω–æ—Å—Ç—å */
        @media (max-width: 480px) {
            .search-box {
                width: 140px;
            }
            
            .products-grid {
                grid-template-columns: repeat(auto-fill, minmax(140px, 1fr));
            }
        }
        
        /* –ê–Ω–∏–º–∞—Ü–∏–∏ */
        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(10px); }
            to { opacity: 1; transform: translateY(0); }
        }
        
        .fade-in {
            animation: fadeIn 0.3s ease-out;
        }
    </style>
</head>
<body>
    <!-- –®–∞–ø–∫–∞ -->
    <div class="header">
        <div class="logo">
            <div class="logo-icon">üõçÔ∏è</div>
            <span>UNIVERSAL SHOP</span>
        </div>
        <div class="header-controls">
            <div class="search-box">
                <i class="fas fa-search"></i>
                <input type="text" class="search-input" placeholder="–ü–æ–∏—Å–∫ —Ç–æ–≤–∞—Ä–æ–≤...">
            </div>
            <button class="theme-toggle" id="themeToggle">
                <i class="fas fa-moon"></i>
            </button>
        </div>
    </div>
    
    <!-- –ê–¥–º–∏–Ω –∫–Ω–æ–ø–∫–∏ (—Ç–æ–ª—å–∫–æ –¥–ª—è –≤–ª–∞–¥–µ–ª—å—Ü–∞) -->
    <div class="container admin-buttons" id="adminButtons">
        <button class="add-btn" onclick="addNewGame()">
            <i class="fas fa-plus"></i> –î–æ–±–∞–≤–∏—Ç—å –∏–≥—Ä—É
        </button>
        <button class="add-btn" onclick="addNewProduct()" style="background: #3b82f6; margin-top: 10px;">
            <i class="fas fa-cube"></i> –î–æ–±–∞–≤–∏—Ç—å —Ç–æ–≤–∞—Ä
        </button>
    </div>
    
    <div class="container">
        <!-- –ë–ª–æ–∫ "–ò–≥—Ä—ã" -->
        <div class="section-title">
            <div class="section-icon">üéÆ</div>
            <span>–ò–≥—Ä—ã</span>
        </div>
        <div class="shelf" id="gamesShelf">
            <!-- –ò–≥—Ä—ã –∑–∞–≥—Ä—É–∂–∞—é—Ç—Å—è —á–µ—Ä–µ–∑ JS -->
        </div>
        <button class="view-all" onclick="showAllGames()">
            <i class="fas fa-eye"></i> –°–º–æ—Ç—Ä–µ—Ç—å –≤—Å–µ
        </button>
        
        <!-- –ë–ª–æ–∫ "–ü—Ä–∏–ª–æ–∂–µ–Ω–∏—è" -->
        <div class="section-title">
            <div class="section-icon">üì±</div>
            <span>–ü—Ä–∏–ª–æ–∂–µ–Ω–∏—è Telegram</span>
        </div>
        <div class="shelf" id="appsShelf">
            <!-- –ü—Ä–∏–ª–æ–∂–µ–Ω–∏—è –∑–∞–≥—Ä—É–∂–∞—é—Ç—Å—è —á–µ—Ä–µ–∑ JS -->
        </div>
        <button class="view-all" onclick="showAllApps()">
            <i class="fas fa-eye"></i> –°–º–æ—Ç—Ä–µ—Ç—å –≤—Å–µ
        </button>
        
        <!-- –ë–ª–æ–∫ "–°–º–æ—Ç—Ä–µ–ª –≤ –ø–æ—Å–ª–µ–¥–Ω–∏–π —Ä–∞–∑" -->
        <div class="section-title">
            <div class="section-icon">üïí</div>
            <span>–°–º–æ—Ç—Ä–µ–ª –≤ –ø–æ—Å–ª–µ–¥–Ω–∏–π —Ä–∞–∑</span>
        </div>
        <div class="history-card" id="historyCard">
            <div class="history-header">
                <span>Fortnite - –ê–∫–∫–∞—É–Ω—Ç —Å —Å–∫–∏–Ω–∞–º–∏</span>
                <button class="delete-history" onclick="deleteHistory()">–£–¥–∞–ª–∏—Ç—å</button>
            </div>
            <div>–¶–µ–Ω–∞: <strong>$24.99</strong> ‚Ä¢ –ü—Ä–æ—Å–º–æ—Ç—Ä–µ–Ω: —Å–µ–≥–æ–¥–Ω—è 14:30</div>
        </div>
        
        <!-- –û–±—â–∞—è –ª–µ–Ω—Ç–∞ —Ç–æ–≤–∞—Ä–æ–≤ -->
        <div class="section-title">
            <div class="section-icon">üî•</div>
            <span>–í—Å–µ —Ç–æ–≤–∞—Ä—ã</span>
        </div>
        <div class="products-grid" id="productsGrid">
            <!-- –¢–æ–≤–∞—Ä—ã –∑–∞–≥—Ä—É–∂–∞—é—Ç—Å—è —á–µ—Ä–µ–∑ JS -->
        </div>
    </div>
    
    <!-- –ö–Ω–æ–ø–∫–∏ –¥–µ–π—Å—Ç–≤–∏–π -->
    <div class="action-buttons">
        <button class="action-btn secondary-btn" onclick="openSupport()">
            <i class="fas fa-comment"></i> –ü–æ–¥–¥–µ—Ä–∂–∫–∞
        </button>
        <button class="action-btn secondary-btn" onclick="openBonuses()">
            <i class="fas fa-gift"></i> –ë–æ–Ω—É—Å—ã
        </button>
        <button class="action-btn primary-btn" onclick="openProfile()">
            <i class="fas fa-user"></i> –ü—Ä–æ—Ñ–∏–ª—å
        </button>
    </div>
    
    <script>
        // Telegram WebApp API
        const tg = window.Telegram.WebApp;
        
        // –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è
        tg.expand(); // –†–∞—Å–∫—Ä—ã–≤–∞–µ–º –Ω–∞ –≤–µ—Å—å —ç–∫—Ä–∞–Ω
        tg.BackButton.hide();
        
        // –î–∞–Ω–Ω—ã–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
        const user = tg.initDataUnsafe.user;
        const isAdmin = false; // –ó–¥–µ—Å—å –ø—Ä–æ–≤–µ—Ä–∫–∞ –ø–æ Telegram ID
        
        // –¢–µ–∫—É—â–∞—è —Ç–µ–º–∞
        let isDarkTheme = false;
        
        // –ó–∞–≥—Ä—É–∑–∫–∞ –ø—Ä–∏ —Å—Ç–∞—Ä—Ç–µ
        document.addEventListener('DOMContentLoaded', function() {
            // –ü—Ä–æ–≤–µ—Ä—è–µ–º –∞–¥–º–∏–Ω–∞
            if (isAdmin) {
                document.getElementById('adminButtons').style.display = 'block';
            }
            
            // –£—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ–º —Ç–µ–º—É Telegram
            if (tg.colorScheme === 'dark') {
                enableDarkTheme();
            }
            
            // –ó–∞–≥—Ä—É–∂–∞–µ–º –¥–∞–Ω–Ω—ã–µ
            loadGames();
            loadApps();
            loadProducts();
        });
        
        // –ü–µ—Ä–µ–∫–ª—é—á–µ–Ω–∏–µ —Ç–µ–º—ã
        document.getElementById('themeToggle').addEventListener('click', function() {
            if (isDarkTheme) {
                disableDarkTheme();
            } else {
                enableDarkTheme();
            }
        });
        
        function enableDarkTheme() {
            document.body.classList.add('dark-theme');
            document.getElementById('themeToggle').innerHTML = '<i class="fas fa-sun"></i>';
            tg.setHeaderColor('#0f172a');
            isDarkTheme = true;
        }
        
        function disableDarkTheme() {
            document.body.classList.remove('dark-theme');
            document.getElementById('themeToggle').innerHTML = '<i class="fas fa-moon"></i>';
            tg.setHeaderColor('#ffffff');
            isDarkTheme = false;
        }
        
        // –ó–∞–≥—Ä—É–∑–∫–∞ –¥–∞–Ω–Ω—ã—Ö (–∑–∞–≥–ª—É—à–∫–∏)
        function loadGames() {
            const games = [
                { icon: 'üéÆ', name: 'Fortnite' },
                { icon: '‚öîÔ∏è', name: 'Minecraft' },
                { icon: 'üöó', name: 'GTA V' },
                { icon: 'üî´', name: 'CS:GO' },
                { icon: 'üèéÔ∏è', name: 'Racing' },
                { icon: 'üèÄ', name: 'NBA 2K' }
            ];
            
            const shelf = document.getElementById('gamesShelf');
            games.forEach(game => {
                const card = document.createElement('div');
                card.className = 'game-card fade-in';
                card.innerHTML = `
                    <div class="game-icon">${game.icon}</div>
                    <div class="game-name">${game.name}</div>
                `;
                card.onclick = () => openGame(game.name);
                shelf.appendChild(card);
            });
        }
        
        function loadApps() {
            const apps = [
                { icon: 'üìà', name: '–ü—Ä–æ–¥–≤–∏–∂–µ–Ω–∏–µ' },
                { icon: 'üé®', name: '–î–∏–∑–∞–π–Ω' },
                { icon: 'üéÅ', name: 'NFT-–ø–æ–¥–∞—Ä–∫–∏' },
                { icon: 'üë•', name: '–ü–æ–¥–ø–∏—Å—á–∏–∫–∏' },
                { icon: '‚úÖ', name: '–í–µ—Ä–∏—Ñ–∏–∫–∞—Ü–∏—è' }
            ];
            
            const shelf = document.getElementById('appsShelf');
            apps.forEach(app => {
                const card = document.createElement('div');
                card.className = 'game-card fade-in';
                card.innerHTML = `
                    <div class="game-icon">${app.icon}</div>
                    <div class="game-name">${app.name}</div>
                `;
                card.onclick = () => openApp(app.name);
                shelf.appendChild(card);
            });
        }
        
        function loadProducts() {
            const products = [
                { name: '–ê–∫–∫–∞—É–Ω—Ç Fortnite', desc: '–° —Ä–µ–¥–∫–∏–º–∏ —Å–∫–∏–Ω–∞–º–∏', price: '$24.99', icon: 'üë§' },
                { name: '1000 –í-–±–∞–∫—Å–æ–≤', desc: '–ò–≥—Ä–æ–≤–∞—è –≤–∞–ª—é—Ç–∞', price: '$9.99', icon: 'üí∞' },
                { name: '–î–∏–∑–∞–π–Ω –∫–∞–Ω–∞–ª–∞', desc: '–£–Ω–∏–∫–∞–ª—å–Ω—ã–π –¥–∏–∑–∞–π–Ω', price: '$49.99', icon: 'üé®' },
                { name: '–ü—Ä–æ–¥–≤–∏–∂–µ–Ω–∏–µ', desc: '1000 –ø–æ–¥–ø–∏—Å—á–∏–∫–æ–≤', price: '$19.99', icon: 'üìà' },
                { name: '–ê–∫–∫–∞—É–Ω—Ç GTA V', desc: '–£—Ä–æ–≤–µ–Ω—å 120', price: '$34.99', icon: 'üöó' },
                { name: 'NFT-–ø–æ–¥–∞—Ä–æ–∫', desc: '–≠–∫—Å–∫–ª—é–∑–∏–≤–Ω—ã–π', price: '$14.99', icon: 'üéÅ' }
            ];
            
            const grid = document.getElementById('productsGrid');
            products.forEach(product => {
                const card = document.createElement('div');
                card.className = 'product-card fade-in';
                card.innerHTML = `
                    <div class="product-image">
                        ${product.icon}
                    </div>
                    <div class="product-info">
                        <div class="product-name">${product.name}</div>
                        <div class="product-description">${product.desc}</div>
                        <div class="product-price">${product.price}</div>
                    </div>
                `;
                card.onclick = () => openProduct(product.name);
                grid.appendChild(card);
            });
        }
        
        // –û–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –Ω–∞–∂–∞—Ç–∏–π
        function openGame(name) {
            tg.showPopup({
                title: `–ò–≥—Ä–∞: ${name}`,
                message: '–í—ã–±–µ—Ä–∏—Ç–µ —Ç–æ–≤–∞—Ä –≤–Ω—É—Ç—Ä–∏ –∏–≥—Ä—ã',
                buttons: [
                    { id: 'accounts', type: 'default', text: 'üë§ –ê–∫–∫–∞—É–Ω—Ç—ã' },
                    { id: 'currency', type: 'default', text: 'üí∞ –í–∞–ª—é—Ç–∞' },
                    { id: 'items', type: 'default', text: 'üõ°Ô∏è –ü—Ä–µ–¥–º–µ—Ç—ã' },
                    { id: 'close', type: 'cancel', text: '–ó–∞–∫—Ä—ã—Ç—å' }
                ]
            });
        }
        
        function openApp(name) {
            tg.showAlert(`–û—Ç–∫—Ä—ã—Ç–æ: ${name}\n\n–ó–¥–µ—Å—å –±—É–¥—É—Ç —É—Å–ª—É–≥–∏ Telegram.`);
        }
        
        function openProduct(name) {
            tg.showAlert(`–¢–æ–≤–∞—Ä: ${name}\n\n–ó–¥–µ—Å—å –±—É–¥–µ—Ç —Å—Ç—Ä–∞–Ω–∏—Ü–∞ –ø–æ–∫—É–ø–∫–∏.`);
        }
        
        function showAllGames() {
            tg.showAlert('–ü–æ–∫–∞–∑–∞—Ç—å –≤—Å–µ –∏–≥—Ä—ã');
        }
        
        function showAllApps() {
            tg.showAlert('–ü–æ–∫–∞–∑–∞—Ç—å –≤—Å–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è');
        }
        
        function deleteHistory() {
            document.getElementById('historyCard').style.display = 'none';
            tg.showAlert('–ò—Å—Ç–æ—Ä–∏—è —É–¥–∞–ª–µ–Ω–∞');
        }
        
        function addNewGame() {
            tg.showAlert('–§–æ—Ä–º–∞ –¥–æ–±–∞–≤–ª–µ–Ω–∏—è –Ω–æ–≤–æ–π –∏–≥—Ä—ã');
        }
        
        function addNewProduct() {
            tg.showAlert('–§–æ—Ä–º–∞ –¥–æ–±–∞–≤–ª–µ–Ω–∏—è —Ç–æ–≤–∞—Ä–∞');
        }
        
        function openSupport() {
            tg.showAlert('–í—Å—Ç—Ä–æ–µ–Ω–Ω—ã–π —á–∞—Ç –ø–æ–¥–¥–µ—Ä–∂–∫–∏');
        }
        
        function openBonuses() {
            tg.showAlert('–†–∞–∑–¥–µ–ª –±–æ–Ω—É—Å–æ–≤ –∏ –ø—Ä–æ–º–æ–∫–æ–¥–æ–≤');
        }
        
        function openProfile() {
            tg.showAlert('–ü—Ä–æ—Ñ–∏–ª—å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è');
        }
        
        // –ü–æ–∏—Å–∫ —Ç–æ–≤–∞—Ä–æ–≤
        const searchInput = document.querySelector('.search-input');
        searchInput.addEventListener('input', function(e) {
            const query = e.target.value.toLowerCase();
            // –ó–¥–µ—Å—å –±—É–¥–µ—Ç —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏—è —Ç–æ–≤–∞—Ä–æ–≤
            if (query.length > 2) {
                console.log('–ü–æ–∏—Å–∫:', query);
            }
        });
        
        // –û—Ç–ø—Ä–∞–≤–∫–∞ –¥–∞–Ω–Ω—ã—Ö –≤ –±–æ—Ç–∞
        function sendDataToBot(action, data) {
            tg.sendData(JSON.stringify({
                action: action,
                data: data,
                userId: user?.id
            }));
        }
    </script>
</body>
</html>